The following flow applies equally to 721 and 1155 contracts.

.ERC721/1155 Setup Flow, with Mint first on SKALE

ifdef::env-github[image::https://www.plantuml.com/plantuml/svg/fLBDRjH03BxdANo48AM22n9ReRRRxOKkHLqapgF4f8R44usTqeZmxhZ9C1ifAu54JZFsv-zdd0jH5xHlc-nST6ZmVUPAfKVIuPfS7LmBFpEmxygLt-lWUwwsll41lZoGujIv9SQvTjKOo6g_ilEpI3Rk7J6ZZjbu-71vkuFjWnN6QN1TcRnCfwy-65FytkNvDNQD7-0Lx8aLFjvybZpV92IusZWI_jbd1pVKeAWFhfvz9hRUg5m5r5f7pXwfGY_6_4qyRn8IkPfvidXBbYBztdKTSPq6KjAbxRiVZ05cy-OujI8MTa-ABEHPKcjtlttxvZMKdZNOAkpG3PirvptM98f1ZXnv3aS15B5udu9_6bAn2778HeBRHeKNHL6yJ0ghhPpE0eVo6R0K_rUJ_-Fnxszj4uob2gY7HPAJ1Wf1FI1N6FxetF6SA-gjs2z5g6Q9hu1LtDOo5B4Qa1QHqovdmkEV9UgxxCBkVTly1W00[]]
ifndef::env-github[]

[plantuml]
....
@startuml
<style>
activityDiagram {
    BackgroundColor White
    LineColor Black
  }
</style>
|Mainnet|
|SKALE Chain|
    |SKALE Chain|
    start
    fork
        :**Deploy + Mint NFTs**;
    fork again
        group Filestorage
            :upload images/videos + json;
        end group
    end fork
    group Mapping
        |Mainnet|
        :**Owner Deploys**
        Mainnet Extensions
        ERC721 contract copy;
        :**Owner Registers Extension** 
        MessageProxy
        .registerExtraContract(...);
        |SKALE Chain|
        :**Owner Deploys Schain Extension**;
        :**Owner Registers Extension**
        MessageProxy
        .registerExtraContract(...);
        |Mainnet|
        :**Owner Connects to SKALE Chain Extension**
        .setSenderContractOnSchain(...);
        :**Owner Assigns Deployed ERC721**
        Minter is Extension contract;
    end group
stop
@enduml
....

endif::[]

.ERC721/1155 Transfer Flow, with Mint first on SKALE

ifdef::env-github[image::https://www.plantuml.com/plantuml/svg/RP4nZwCm48Lx_uefWG8fQKuAJKuvJXVTPek4Q6il332A6IAFsKt1ZrzZ8f8YxkQzvwVFdgquRTtG6JNchaMBGpUgnlR35GghMMgqbhXHuCzu-l_xBOTTgud7e6pEWXOibaXVAF3-jyY2JZL4IHBC2akglETwm1kv98c11A9L2lN05UJ5lnXSYwpWVXuSYxIPky8DcQvCRJFCGRDkq2R94lxGng2JPKuzNgjjWwTo0f_jA4tJE5io5p8c36W48Lgd4Bub4CV1UFt-9xYG5T1SmUTWUNhm1Vc9AxyvPA6U7sI2N1LJhEWFlfCzrntA6rIh5z-nMMgW8tO2hlNBQbh8ZxjVwrKsX_mYu9jSEqFi_m19Y6CL_A2UZtie-ojXbIdqr67fIbn_LLi_3vtv0G00[]]
ifndef::env-github[]

[plantuml]
....
@startuml
|Ethereum|
group Transferring
    |SKALE Chain|
    :User receives NFT;
    if (**User decides to exit**) is (1. fund ETH) then
        |Ethereum|
        :**User funds ETH to SKALE Manager**
        Wallets
        .rechargeSchainWallet(...);
        kill
    else (2. start exit)
        |SKALE Chain|
        :**User exits and burns token**
        Extension
        .sendTokenToMainnet();
    endif
    |Ethereum|
    :Extension mints through ERC721;
    :NFT with tokenID is minted
    tokenURI copied;
end group
stop
@enduml
....

endif::[]

## Deploy/Mint Process

. [SKALE Chain] Deploy and Mint NFTs
. [SKALE Chain] Upload images/videos + json to SKALE Chain Filestorage

## One-time Setup Steps

. [Ethereum] Owner deploys Extension + NFT contract copy
. [Ethereum] Owner registers extension
. [SKALE Chain] Owner deploys Extension
. [SKALE Chain] Owner registers extension
. [SKALE Chain] Owner deploys clone
. [Ethereum] Owner sets Extension to SKALE Chain Extension
. [Ethereum] Owner assigns NFT Minter to Extension

## Transfer Flow

Withdrawal

. [Ethereum] User funds SKALE Manager Wallet ETH for exit
. [SKALE Chain] User exits from Extension
. [Ethereum] _Extension contract executes NFT mint_
. [Ethereum] _NFT of tokenID minted, with same tokenURI and other metadata_
