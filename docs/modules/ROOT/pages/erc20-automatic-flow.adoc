## Automatic - Setup Steps

. [SKALE Chain] Owner enables Autodeploy Mapping
. [Ethereum] Owner disables whitelist

[NOTE]
Owner can enable autodeploy and keep whitelist enabled to allow automatic mapping of only certain tokens.

include::partial$autodeploy-note.adoc[]

## Transfer Flow

Deposit

. [Ethereum] User approves ERC20 transfer
. [Ethereum] User deposits ERC20 to DepositBox
. [SKALE Chain] User can now transfer clone

Withdrawal

. [Ethereum] User funds CommunityPool ETH for exit
. [SKALE Chain] User exits from TokenManager
. [Ethereum] User can now transfer ERC20

.ERC20 Setup Flow with Automatic Mapping

ifdef::env-github[image::https://www.plantuml.com/plantuml/svg/PL0zJyCm4DtzApoM304nGeNQf9beXGH8dO_ab9pgs9PzeKI4_uvp52bIFTdluzqzRo93uA4tQXrvDFYae6Rw91vt16s0NdyhdKu1zQaDRh1DwOmB-jWHep1xilY75IQ94lQZrhUNiAdY3WCE_QHcjzS7y9viAyxfxNcxhtJP0Tb945b6RWzPzdAs67H4ZXe6TWrwuyOi4_hTdT0Um4ABeNejx-y4pT72Xy5jKlV0LE_4ihfv57Qno_M4yzp7KEJBW6HraRXmNuluXkASV_pNhl8yJ-5e6otjL6JdrIQzquV-0W00[]]
ifndef::env-github[]

[plantuml]
....
@startuml
<style>
activityDiagram {
    BackgroundColor White
    LineColor Black
  }
</style>
|Ethereum|
group Mapping
    |SKALE Chain|
    start
    :**Owner sets autodeploy**
    TokenManagerERC20
    .enableAutomaticDeploy();
    |Ethereum|
    :**Owner sets whitelist**
    DepositBoxERC20
    .disableWhitelist(...);
end group
stop
@enduml
....

endif::[]

include::partial$erc20-transfer-flow.adoc[]